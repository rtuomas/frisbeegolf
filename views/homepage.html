<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    <!-- Molemmat <link> tarvitaan!-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.3/leaflet.css" rel="stylesheet">
    <link rel="stylesheet" href="public/css/leaflet-search.css" />
    <link rel="stylesheet" href="public/css/styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
</head>
<body>
    <nav>
        <ul>
            <li><p id="Welcome">Homepage! Welcome, {{ username }}</p></li>
            
            <li style="float:right;">
                 <div class="logout">
                    <!--<input type="button" value="Logout" onclick="logout()"/>-->
                    <form action="logout" method="POST">
                    <input id="log-out" type="image" src="/public/images/logout.png" width="50" height="50" value="Logout (toimiva)"/>
                    </form>
                </div>
            </li>
            <!-- Trigger/Open The Modal -->
            <!--
                <li style="float:right;"><button id="myBtn"><img id="settingsImg"></button></li>
            -->
            <li style="float:right;">
                <button  id="myBtn" type="submit" style="border: 0; background: transparent">
                    <img id="settingsImage" src="/public/images/settings.png" width="50" height="50" alt="submit" />
                </button>
            </li>
            <li style="float:right;">
                <button  id="resultButton" type="submit" style="border: 0; background: transparent">
                    <img id="resultImage" src="/public/images/results.png" width="50" height="50" alt="resultButton" />
                </button>
            </li>
        </ul>      
    </nav>

    <main>

        <div id="bottom-container">
            <!-- Kartan varattu paikka-->
            <div id="map"></div>
        <!-- KESKEN, ei haittaa muuta käyttöä-->
            <div id="onCourse" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="closeAddedResults">&times;</span>
                        <h2 id="Rata"></h2>
                        <h4 id="User"></h4>
                        <h2 id="Tulosteet"></h2>
                    </div>
                    <div class="modal-body">
                        <div id="resultsInput" class="visible">
                            <label>Heitot
                                <input type="number" id="Heitot" placeholder="Heitot" autofocus required/>
                            </label>
                            <label>PAR
                                <input type="number" id="PAR" placeholder="PAR" required/>
                            </label>
                            <input onclick="addResults()" type="button" value="Lisää" id="addResults"/>
                        </div>
                        <table id="list">
                        </table>
                        <p id="saveResultButton"></p>
                    </div>
                </div>
            </div>

            <!-- The Modal -->
            <div id="myModal" class="modal">
                <!-- Modal content -->
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="close">&times;</span>
                        <h2>Settings</h2>
                    </div>
                    <div class="modal-body">
                        <div class="password-change">
                            <p>Change password</p>
                            <form action="changePassword" method="POST">
                                <input type="password" name="passwordCurrent" placeholder="Current password" required>
                                <input type="password" name="password1" placeholder="New password" required>
                                <input type="password" name="password2" placeholder="New password again" required>
                                <input type="submit" value="Change">
                                <p id="warning">{{ warning }}</p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>


            <div id="resultModal" class="modal-results">
                <!-- Modal content -->
                <div class="modal-content">
                    <div class="modal-header">
                        <span class="closeResult">&times;</span>
                        <h2>Omat tulokset</h2>
                    </div>
                    <div class="modal-body">

                        <div id="results">
                            <table id="table">

                            </table>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </main>
    <!-- kirjastot haetaan ennen omaa js-tiedostoa-->
    <!-- Sciptit on oltava tässä järjestyksessä-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.3/leaflet.js"></script>
    <script src="/public/js/leaflet-search.js"></script>
    <script src="/public/js/map.js"></script>
    <script src="/public/js/homepage.js"></script>
    <script src="/public/js/results-handling.js"></script>
</body>
</html>